### 221103-JavaScript

[https://developer.mozilla.org/ko/docs/Web/HTTP/Basics_of_HTTP/MIME_types](https://developer.mozilla.org/ko/docs/Web/HTTP/Basics_of_HTTP/MIME_types)

ğŸ–¥Â **REST API**

- REST APIë€?
  - ì„œë²„ì˜ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•˜ëŠ” ë°©ë²•ì„ ê·œì •í•œ APIë¥¼ RESTë¼í•˜ë©°, ê·¸ ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•œ ê²ƒì´ REST APIì´ë‹¤.
- GET ìš”ì²­

  - ì „ì²´ ìë£Œ ê°€ì ¸ì˜¤ê¸°
  - íŠ¹ì • ìë£Œ ê°€ì ¸ì˜¤ê¸°

  ```jsx
  // XMLHttpRequest ê°ì²´ ìƒì„±
  const xhr = new XMLHttpRequest();

  // HTTP ìš”ì²­ ì´ˆê¸°í™”
  // todos ë¦¬ì†ŒìŠ¤ì—ì„œ ëª¨ë“  todoë¥¼ ì·¨ë“(index)
  xhr.open('GET', '/todos/1');

  // HTTP ìš”ì²­ ì „ì†¡
  xhr.send();

  // load ì´ë²¤íŠ¸ëŠ” ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œëœ ê²½ìš° ë°œìƒí•œë‹¤.
  xhr.onload = () => {
    // status í”„ë¡œí¼í‹° ê°’ì´ 200ì´ë©´ ì •ìƒì ìœ¼ë¡œ ì‘ë‹µëœ ìƒíƒœë‹¤.
    if (xhr.status === 200) {
      document.querySelector('pre').textContent = xhr.response;
    } else {
      console.error('Error', xhr.status, xhr.statusText);
    }
  };
  ```

- POST ìš”ì²­

  ```jsx
  // XMLHttpRequest ê°ì²´ ìƒì„±
  const xhr = new XMLHttpRequest();

  // HTTP ìš”ì²­ ì´ˆê¸°í™”
  // todos ë¦¬ì†ŒìŠ¤ì—ì„œ ëª¨ë“  todoë¥¼ ì·¨ë“(index)
  xhr.open('POST', '/todos/');

  xhr.setRequestHeader('content-type', 'application/json');

  // HTTP ìš”ì²­ ì „ì†¡
  xhr.send(JSON.stringify({ id: 4, content: 'Angular', completed: false }));

  // load ì´ë²¤íŠ¸ëŠ” ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œëœ ê²½ìš° ë°œìƒí•œë‹¤.
  xhr.onload = () => {
    // status í”„ë¡œí¼í‹° ê°’ì´ 200ì´ë©´ ì •ìƒì ìœ¼ë¡œ ì‘ë‹µëœ ìƒíƒœë‹¤.
    if (xhr.status === 200 || xhr.status === 201) {
      document.querySelector('pre').textContent = xhr.response;
    } else {
      console.error('Error', xhr.status, xhr.statusText);
    }
  };
  ```

  â†’ `{ id: 4, content: 'Angular', completed: false }` ì´ ê°ì²´ë§Œ

- PUT ìš”ì²­

  - idë¥¼ ì œì™¸í•œ ìš”ì†Œë§Œ êµì²´í•´ì¤€ë‹¤. (íŠ¹ì • ë¦¬ì†ŒìŠ¤ë¥¼!)

  ```jsx
  // XMLHttpRequest ê°ì²´ ìƒì„±
  const xhr = new XMLHttpRequest();

  xhr.open('PUT', '/todos/4');

  xhr.setRequestHeader('content-type', 'application/json');

  // HTTP ìš”ì²­ ì „ì†¡
  xhr.send(JSON.stringify({ id: 4, content: 'React', completed: false }));

  // load ì´ë²¤íŠ¸ëŠ” ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œëœ ê²½ìš° ë°œìƒí•œë‹¤.
  xhr.onload = () => {
    // status í”„ë¡œí¼í‹° ê°’ì´ 200ì´ë©´ ì •ìƒì ìœ¼ë¡œ ì‘ë‹µëœ ìƒíƒœë‹¤.
    if (xhr.status === 200 || xhr.status === 201) {
      document.querySelector('pre').textContent = xhr.response;
    } else {
      console.error('Error', xhr.status, xhr.statusText);
    }
  };|
  ```

- PATCH ìš”ì²­

  - íŠ¹ì • ë¦¬ì†ŒìŠ¤ì˜ completeë§Œ ë³€ê²½í•´ì¤€ë‹¤.

  ```jsx
  // XMLHttpRequest ê°ì²´ ìƒì„±
  const xhr = new XMLHttpRequest();

  xhr.open('PATCH', '/todos/4');

  xhr.setRequestHeader('content-type', 'application/json');

  // HTTP ìš”ì²­ ì „ì†¡
  xhr.send(JSON.stringify({ completed: false }));

  // load ì´ë²¤íŠ¸ëŠ” ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œëœ ê²½ìš° ë°œìƒí•œë‹¤.
  xhr.onload = () => {
    // status í”„ë¡œí¼í‹° ê°’ì´ 200ì´ë©´ ì •ìƒì ìœ¼ë¡œ ì‘ë‹µëœ ìƒíƒœë‹¤.
    if (xhr.status === 200) {
      document.querySelector('pre').textContent = xhr.response;
    } else {
      console.error('Error', xhr.status, xhr.statusText);
    }
  };
  ```
